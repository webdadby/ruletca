# Анализатор Рулетки

Веб-приложение для анализа и предсказания чисел в рулетке на основе исторических данных.

## Функциональность

### 1. Ввод чисел
- Интерактивная сетка кнопок с числами от 0 до 36
- Числа окрашены в соответствующие цвета рулетки:
  - Зеленый: 0
  - Красный: 1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36
  - Черный: 2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35

### 2. История чисел
- Отображение всех выпавших чисел в хронологическом порядке
- Возможность переключения порядка отображения:
  - "Старые → Новые": показывает числа в порядке их выпадения
  - "Новые → Старые": показывает последние выпавшие числа первыми
- Каждое число отображается с соответствующим цветом и порядковым номером

### 3. Анализ и предсказания

#### 3.1 Анализ конкретных чисел
- Отслеживание чисел, которые выпадают после определенного числа
- Подсчет частоты появления каждого числа
- Вычисление вероятности появления каждого числа в процентах

#### 3.2 Анализ по дюжинам
Анализ распределения чисел по трем дюжинам:
- 1-я дюжина: числа 1-12
- 2-я дюжина: числа 13-24
- 3-я дюжина: числа 25-36
Для каждой дюжины показывается:
- Количество выпадений
- Процент вероятности
- Список чисел в дюжине

#### 3.3 Анализ по столбцам
Анализ распределения чисел по трем столбцам рулетки:
- 1-й столбец: 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34
- 2-й столбец: 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35
- 3-й столбец: 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36
Для каждого столбца показывается:
- Количество выпадений
- Процент вероятности
- Список чисел в столбце

### 4. Хранение данных
- Все числа сохраняются в базе данных Supabase
- Данные хранятся в хронологическом порядке
- Каждое число связано с временем его добавления

## Технические требования

### Зависимости
```
flask==2.0.1
flask-socketio==5.1.1
python-dotenv==0.19.0
supabase==0.0.2
pandas==1.3.3
numpy==1.21.2
```

### Переменные окружения
Создайте файл `.env` со следующими переменными:
```
SUPABASE_URL=ваш_url_supabase
SUPABASE_KEY=ваш_ключ_supabase
```

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone https://github.com/webdadby/ruletca.git
cd ruletca
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте и настройте файл `.env`

4. Запустите приложение:
```bash
python app.py
```

5. Откройте браузер и перейдите по адресу: `http://localhost:5001`

## Использование

1. При запуске приложения вы увидите сетку с числами рулетки
2. Нажмите на число, которое выпало на рулетке
3. Приложение автоматически:
   - Добавит число в историю
   - Обновит статистику
   - Покажет предсказания для следующего числа
4. В разделе предсказаний вы увидите:
   - Вероятности конкретных чисел
   - Анализ по дюжинам
   - Анализ по столбцам
5. Используйте кнопки "Старые → Новые" и "Новые → Старые" для изменения порядка отображения истории

## Структура проекта

- `app.py` - основной файл приложения Flask
- `roulette_analyzer.py` - класс для анализа чисел и предсказаний
- `templates/index.html` - веб-интерфейс приложения
- `requirements.txt` - список зависимостей
- `create_table.sql` - SQL скрипт для создания таблицы в Supabase
- `.env` - файл с переменными окружения
- `.gitignore` - список игнорируемых файлов

## Безопасность

- Ключи API хранятся в переменных окружения
- Все запросы к базе данных выполняются через безопасное соединение
- Валидация входных данных на стороне сервера

## Вклад в проект

1. Создайте форк репозитория
2. Создайте ветку для новой функциональности
3. Внесите изменения и создайте pull request

## Лицензия

MIT License
